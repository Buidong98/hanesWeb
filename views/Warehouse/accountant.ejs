<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="https://code.getmdl.io/1.3.0/material.purple-indigo.min.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css"
        integrity="sha512-MV7K8+y+gLIBoVD59lQIYicR65iaqukzvf/nwasF0nqhPay5w/9lJmVM2hMDcnK1OnMGCdVK+iQrJ7lzPJQd1w=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet"
        href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.min.css"
        integrity="sha512-mSYUmp1HYZDFaVKK//63EcZq4iFWFjxSL+Z3T/aCt4IO9Cejm03q3NKKYN6pFQzY0SBOr8h+eCIAZHPXcpZaNw=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/Contents/css/main.css">
    <link rel="stylesheet" href="/Contents/libs/bootstrap-toastr/toastr.min.css" />

    <script lang="javascript" src="/contents/libs/exceljs/xlsx.full.min.js"></script>
    <script defer src="/JS/mdl/material.min.js"></script>
    <script src="/Contents/libs/jquery-1.10.2.min.js"></script>

    <title>dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            text-decoration: none;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background-color: #FBFCFC;
            background-repeat: no-repeat;
            background-size: cover;
            color: #2c3e50;
            font-size: 30px;
        }

        .contents-title {
            border-bottom: 1px solid rgba(149, 165, 166, 0.8);
            ;
        }

        .contents-title-title {
            padding: 1vh 0 0 3vh;
            font-size: 3rem;
        }

        .contents-title-uploat-tilte {
            margin: 0;
            padding-top: 1vh;
            font-size: 2.5vh;
        }

        .contents-title-print {
            display: flex;
            justify-content: center;
        }

        .bnt-createPallet {
            margin-top: 2vh;
            width: 65vh;
            height: 6vh;
            font-size: 3vh;
            border-radius: 5px;
        }

        .fil-bar-title {
            margin-bottom: 1vh;
            font-size: 2.5vh;
        }

        .bnt-fil {
            display: flex;
            width: 5vh;
        }

        .bnt-fil-clear {
            margin: 4vh 0vh 3vh 1vh;
            width: 10vh;
            border-radius: 3px;
        }

        .bnt-fil-filter {
            margin: 4vh 2vh 3vh 2vh;
            width: 10vh;
            border-radius: 3px;
        }

        .bnt-fil-download {
            margin: 4vh 3vh 3vh 0vh;
            width: 10vh;
            border-radius: 3px;
        }

        .contents-main-table-header-title {
            font-size: 5vh;
            text-align: center;
        }

        .table-responsive {
            max-height: 65vh;
            /* flex-direction: column-reverse; */
            margin-left: 0.5%;
        }

        .listItem-header {
            font-size: 2.5vh;
            text-align: center;
            position: sticky !important;
            top: 0;
        }

        .listItem-header-actual {
            background-color: #16a085 !important;
            color: #ecf0f1;
            border: 1px solid black;
        }

        .listItem-header-plan {
            background-color: #e67e22 !important;
            color: #ecf0f1;
            border: 1px solid black;
        }

        .listItem-body {
            font-size: 2vh;
            text-align: center;
        }

        .listItem-body-actual {
            background-color: rgba(22, 160, 133, .1) !important;
            border: 1px solid black;
        }

        .listItem-body-plan {
            background-color: rgba(230, 126, 34, .1) !important;
            border: 1px solid black;
        }

        .bnt-delete-item {
            border-radius: 3px;
        }

        .bnt-delete-approve {
            border-radius: 3px;
        }

        .quntittModelOn {
            margin: 0 !important;
        }

        .quantityConfirmItem {
            font-size: 17px !important;
            color: #e67e22;

            margin: 0px;
        }

        .modalTableHeader {
            background-color: #16a085 !important;
            color: #ecf0f1;
            border: 1px solid black;
            font-size: 16px;
        }

        .modalTableItem {
            border: 1px solid black;
            font-size: 16px;
        }
        .form_checkbox{
            font-size:60%;
        }
    </style>
</head>

<body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <span class="mdl-layout-title"></i> WAREHOUSE MANAGEMENT</span>
                <%- include ("partials/headerTemplate.ejs"); -%>
            </div>
        </header>
        <%- include ("partials/navTemplate.ejs"); -%>
            <main class="container-body container-fluid">
                <div class="row contents-title">
                    <div class="col contents-title-title">Accountant</div>
                    <div class="col contents-title-uploat">
                        <p class="contents-title-uploat-tilte">Chọn file hàng về để tải lên:</p>
                        <div class="input-group contents-title-uploat-main">
                            <input type="file" class="form-control" id="inputfilePlan" accept=".xlsx, .xls, .xlsb, .csv"
                                aria-label="Upload">
                            <button class="btn btn-primary" type="button" id="inputfile"
                                onclick="uploadExcel()">Upload</button>
                        </div>
                    </div>
                    <div class="col contents-title-print">
                        <!-- <button type="button" class="btn btn-success bnt-createPallet" data-bs-toggle="modal"
                            data-bs-target="#exampleModal">
                            Tạo & in mã Pallet
                        </button> -->
                    </div>
                </div>
                <div class="row contents-main">
                    <div class="row contents-main-fil-bar">
                        <div class="col fil-bar-PO">
                            <p class="fil-bar-title">Ngày:</p>
                            <input id="findDate" name="findDate" type="date" class="form-control"
                                onchange="findDateChanged(this.value)">
                        </div>
                        <div class="col fil-bar-PO">
                            <p id="titlevendor" class="fil-bar-title">Vendor:</p>
                            <select class="form-select" id="findvendor" name="findvendor"
                                aria-label="Floating label select example"
                                onchange="findvendorChanged(this.value)">
                            </select>
                        </div>
                       
                        <div class="col fil-bar-Item">
                            <p class="fil-bar-title">PO:</p>
                            <select class="form-select" id="findPo" name="findPo"
                                aria-label="Floating label select example">
                            </select>
                        </div>

                        <!-- <div class="col fil-bar-item">
                            <p class="fil-bar-title">Mã Kiện:</p>
                            <select class="form-select" id="floatingSelect" aria-label="Floating label select example">
                            </select>
                            <p class="fil-bar-title">:</p>
                            <div class="form-check form_checkbox">
                                <input class="form-check-input" type="checkbox" value="1" id="flexCheckDefault">
                                <label class="form-check-label" for="flexCheckDefault">
                                  Default checkbox
                                </label>
                            </div>
                        </div> -->
                        <div class="col fil-bar-Item">
                            <p class="fil-bar-title">Lựa chọn bảng:</p>
                            <select class="form-select" id="selectTable" name="selectTable"
                                aria-label="Floating label select example"
                                onchange="changeSelectTable(this.value)">
                                <option class="chart_header_option" value="total">Total table</option>
                                <option class="chart_header_option" value="addin">Addin table</option>
                                <option class="chart_header_option" value="plan">Plan table</option>
                                <option class="chart_header_option" value="planError">Plan error table</option>
                                <option class="chart_header_option" value="scan">Scan table</option>
                            </select>
                        </div>
                        <div class="col bnt-fil">
                            <!-- <button type="button" class="btn btn-danger bnt-fil-clear"><i class="fa-solid fa-xmark"></i>
                                Clear</button> -->
                            <button type="button" class="btn btn-primary bnt-fil-filter" onclick="loadDataTable()"><i
                                    class="fa-solid fa-filter"></i> Lọc</button>
                            <button type="button" class="btn btn-success bnt-fil-download" onclick="DownloadReport()"><i
                                    class="fa-solid fa-download"></i></button>
                        </div>
                    </div>
                    <div class="row contents-main-table">
                        <div class="row contents-main-table-header">
                            <div class="col-5"></div>
                            <div class="col-5">BẢNG DỮ LIỆU TỔNG</div>
                            <div class="col-2">
                                <div id="form_checkAbnormal" class="form-check form_checkbox">
                                    <label class="form-check-label" for="checkAbnormal">
                                        Lọc bản ghi bất thường
                                    </label>
                                    <input class="form-check-input" type="checkbox" checked ="true" value="1" id="checkAbnormal">
                                    
                                </div>
                            </div>
                                
                        </div>
                        <div class="row table-responsive">
                            <table class="table header-fixed listItem">
                                <thead>
                                    <tr id="tableHeader" class="listItem-header">
                                    </tr>
                                </thead>
                                <tbody id="tableBody" class="listItem-body">
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </main>
            <!-- Modal -->
            <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h1 class="modal-title fs-5" id="exampleModalLabel">Tạo & in mã pallet</h1>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            contents
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                            <button type="button" class="btn btn-primary">Tạo</button>
                            <button type="button" class="btn btn-primary">In</button>
                        </div>
                    </div>
                </div>
            </div>

            <div class="machine-modal modal fade" id="quantityComfirm" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="machine-modal modal-dialog modal-dialog-centered">
                    <div class="machine-modal modal-content">
                        <div class="modal-header">
                            <h3 class="modal-title" id="exampleModalLabel">
                                <h3 id="operation">Quantity confirm</h3>
                                <!-- <h3 class="modal-title" id="exampleModalLabel" id="operation">12</h3> -->
                                <button type="button" class="btn-close" data-bs-dismiss="modal"
                                    aria-label="Close"></button>
                        </div>
                        <div class="modal-body">

                            <table class="table header-fixed listItem">
                                <thead>
                                    <tr id="tableHeader" class="listItem-header">
                                        <th scope="col" class="modalTableHeader">Quantity plan</th>
                                        <th scope="col" class="modalTableHeader">Quantity actual</th>
                                        <th scope="col" class="modalTableHeader">Quantity confirm</th>

                                    </tr>
                                </thead>
                                <tbody id="tableBody" class="listItem-body">
                                    <tr>
                                        <td class="modalTableItem">
                                            <p id="modalQuantityPlan">154</p>
                                            </th>
                                        <td class="modalTableItem">
                                            <p id="modalQuantityActual">656</p>
                                        </td>
                                        <td class="modalTableItem"><input id="modalQuantityConfirm" type="text"
                                                class="form-control" style="width:12rem;" multiple onchange="saveQuantity()" ></td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Đóng</button>
                            <button type="button" id="saveQuantity" onclick="saveQuantity()" class="btn btn-primary" data-bs-dismiss="modal">Lưu
                                lại</button>
                        </div>
                    </div>
                </div>
            </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"
        integrity="sha512-VEd+nq25CkR676O+pLBnDW09R7VQX9Mdiij052gVCp5yVH3jGtH70Ho/UUv4mJDsEdTvqRCFZg0NKGiojGnUCw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://unpkg.com/xlsx/dist/shim.min.js"></script>
    <script src="https://unpkg.com/xlsx@0.18.5/dist/xlsx.full.min.js"></script>
    <script src="/Contents/libs/jquery-1.10.2.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/js/all.min.js"
        integrity="sha512-rpLlll167T5LJHwp0waJCh3ZRf7pO6IT1+LZOhAyP6phAirwchClbTZV3iqL3BMrVxIYRbzGTpli4rfxsCK6Vw=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js"
        integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ=="
        crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/JS/HBI/wareHouse/accountant.js"></script>